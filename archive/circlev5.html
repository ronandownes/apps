<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>Circle / Disc</title>

<style>
:root{--ink:#000;--line:#cfcfcf;--muted:#666;--blue:#2563eb}
*{box-sizing:border-box}
body{margin:0;font-family:Segoe UI,Arial,sans-serif;background:#fff;color:var(--ink)}
.wrap{max-width:900px;margin:6px auto;padding:0 6px}
.card{border:1px solid var(--line);border-radius:10px;padding:8px}

/* TOP CONTROLS */
.controls-row{display:grid;grid-template-columns:auto 1fr auto;gap:8px;align-items:start;margin-bottom:8px}
.block{border:1px solid var(--line);border-radius:8px;padding:6px}
.block h3{margin:0 0 3px;font-size:12px}
label{font-size:11px;color:var(--muted)}

/* SHAPE */
.shape-title{font-family:"Times New Roman",Times,serif;font-size:20px;font-weight:700}
.shape-sub{font-size:11px;color:var(--muted)}

/* RADIUS */
.radius-display{font-family:"Times New Roman",Times,serif;font-size:16px;margin-bottom:2px}
.set-info{
  font-family:"Times New Roman",Times,serif;
  font-size:20px;
  font-weight:700;
  margin:4px 0 6px;
}

/* NUMBER LINES */
.numline{position:relative;height:24px;margin:0 12px}
.numline::before{content:"";position:absolute;left:0;right:0;top:50%;height:3px;background:var(--blue)}
.numline-tick{position:absolute;top:50%;transform:translate(-50%,-50%);width:2px;height:12px;background:var(--blue)}
.numline-tick.zero{width:3px;height:16px;background:#000}
.numline-dot{position:absolute;top:50%;transform:translate(-50%,-50%);
  width:16px;height:16px;background:var(--blue);border-radius:50%;cursor:grab}
.numline-labels{display:flex;justify-content:space-between;font-size:10px;margin:2px 12px 0;color:var(--blue)}

.frac-label{font-size:11px;color:#666;margin:4px 0 2px}

/* SETTINGS */
.settings-block h3{margin-top:0}
.dprow{display:flex;gap:3px;margin-top:4px}
.dprow button{flex:1;border:1px solid var(--line);border-radius:5px;background:#fff;
  font-size:11px;padding:3px 5px}
.dprow button.active{background:#000;color:#fff}

/* MAIN */
.main{display:grid;grid-template-columns:220px 1fr 1fr;gap:10px}

/* DIAGRAM */
.diagram svg{width:100%}
.formulas{font-family:"Times New Roman",Times,serif;margin-top:4px}
.formulas .f{font-size:16px}

/* RESULTS */
.calc{border:1px solid var(--line);border-radius:8px;padding:8px}
.calc h2{margin:0 0 6px;font-size:14px}
.line{font-family:"Times New Roman",Times,serif;font-size:18px}
.answer-box{border:2px solid #000;padding:4px 8px;margin:6px 0;display:inline-block;font-size:20px}
.answer-label{font-size:11px;color:var(--muted);margin-left:6px}

@media(max-width:800px){
  .controls-row,.main{grid-template-columns:1fr}
}
</style>
</head>

<body>
<div class="wrap">
<section class="card">

<div class="controls-row">
  <div class="block">
    <div class="shape-title">Circle / Disc</div>
    <div class="shape-sub">2D shape</div>
  </div>

  <div class="block">
    <h3>Radius (integer by default)</h3>

    <div style="display:flex;justify-content:flex-end">
      <input id="rInput" type="number" step="0.01" min="0"
             style="width:90px;font-size:12px;padding:2px"
             placeholder="override r">
    </div>

    <div class="radius-display" id="radiusDisplay"></div>
    <div class="set-info" id="setInfo"></div>

    <div class="numline" id="intLine"></div>
    <div class="numline-labels" id="intLabels"></div>

    <div class="frac-label">Fractional override (0 ≤ f &lt; 1)</div>
    <div class="numline" id="fracLine"></div>
  </div>

  <div class="block settings-block">
    <h3>Decimal places</h3>
    <div class="dprow">
      <button class="active">2</button>
    </div>
  </div>
</div>

<div class="main">
  <div>
    <svg viewBox="0 0 260 260">
      <circle cx="130" cy="130" r="105" fill="none" stroke="#000" stroke-width="3"/>
      <line x1="130" y1="130" x2="235" y2="130" stroke="#000" stroke-width="3"/>
      <text x="140" y="115" font-size="18" font-family="Times New Roman" font-style="italic">r</text>
    </svg>
    <div class="formulas">
      <div class="f"><i>l</i> = 2π<i>r</i></div>
      <div class="f"><i>A</i> = π<i>r</i>²</div>
    </div>
  </div>

  <div class="calc">
    <h2>Circumference</h2>
    <div class="line" id="lLine"></div>
    <div class="answer-box" id="lAns"></div><span class="answer-label">2 d.p.</span>
  </div>

  <div class="calc">
    <h2>Area</h2>
    <div class="line" id="aLine"></div>
    <div class="answer-box" id="aAns"></div><span class="answer-label">2 d.p.</span>
  </div>
</div>

</section>
</div>

<script>
let rInt = 7;
let frac = 0;
let dragging = null;

const intLine = document.getElementById("intLine");
const fracLine = document.getElementById("fracLine");

function buildIntLine(){
  intLine.innerHTML='';
  document.getElementById("intLabels").innerHTML='';
  for(let i=0;i<=11;i++){
    const pct=i/11*100;
    const t=document.createElement("div");
    t.className="numline-tick"+(i===0?" zero":"");
    t.style.left=pct+"%";
    intLine.appendChild(t);

    const s=document.createElement("span");
    s.textContent=i;
    document.getElementById("intLabels").appendChild(s);
  }
  const d=document.createElement("div");
  d.className="numline-dot";
  d.style.left=(rInt/11*100)+"%";
  d.onmousedown=()=>dragging="int";
  intLine.appendChild(d);
}

function buildFracLine(){
  fracLine.innerHTML='';
  const d=document.createElement("div");
  d.className="numline-dot";
  d.style.left=(frac*100)+"%";
  d.onmousedown=()=>dragging="frac";
  fracLine.appendChild(d);
}

document.addEventListener("mousemove",e=>{
  if(!dragging) return;
  const rect=(dragging==="int"?intLine:fracLine).getBoundingClientRect();
  let pct=(e.clientX-rect.left)/rect.width;
  pct=Math.max(0,Math.min(1,pct));

  if(dragging==="int"){
    rInt=Math.round(pct*11);
  }else{
    frac=Math.round(pct*100)/100;
  }
  update();
});

document.addEventListener("mouseup",()=>dragging=null);

document.getElementById("rInput").addEventListener("change",e=>{
  const v=parseFloat(e.target.value);
  if(!isNaN(v)&&v>=0){
    rInt=Math.floor(v);
    frac=Math.round((v-rInt)*100)/100;
    update();
  }
});

function update(){
  buildIntLine();
  buildFracLine();

  const r=rInt+frac;
  const isInteger=frac===0;

  document.getElementById("radiusDisplay").innerHTML=`<i>r</i> = ${isInteger?r:r.toFixed(2)}`;

  document.getElementById("setInfo").textContent=
    isInteger?"Integer radius:  r ∈ ℤ⁺":"Rational radius:  r ∈ ℚ";

  const l=2*Math.PI*r;
  const a=Math.PI*r*r;

  document.getElementById("lLine").innerHTML=`= 2π × ${isInteger?r:r.toFixed(2)}`;
  document.getElementById("lAns").innerHTML=`≈ ${l.toFixed(2)}`;

  document.getElementById("aLine").innerHTML=`= π × ${isInteger?r:r.toFixed(2)}²`;
  document.getElementById("aAns").innerHTML=`≈ ${a.toFixed(2)}`;
}

update();
</script>
</body>
</html>
