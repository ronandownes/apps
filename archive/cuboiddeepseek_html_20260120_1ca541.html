<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>Cuboid Calculator</title>

<style>
:root{--ink:#000;--line:#cfcfcf;--muted:#666;--blue:#2563eb}
*{box-sizing:border-box}
body{margin:0;font-family:Segoe UI,Arial,sans-serif;background:#fff;color:var(--ink)}
.wrap{max-width:900px;margin:6px auto;padding:0 6px}
.card{border:1px solid var(--line);border-radius:10px;padding:12px}

.controls-row{display:flex;flex-wrap:wrap;gap:8px;align-items:start;margin-bottom:12px}
.block{border:1px solid var(--line);border-radius:8px;padding:8px}
.block h3{margin:0 0 4px;font-size:12px}

.shape-block{min-width:140px}
.shape-title{font-family:"Times New Roman",Times,serif;font-size:22px;font-weight:700}
.shape-sub{font-size:11px;color:var(--muted);margin-top:2px}

.input-block{display:flex;align-items:center;gap:10px;padding:8px 14px}
.input-block h3{margin:0;font-size:13px;min-width:60px}
.input-container{display:flex;align-items:center;gap:4px}
.value-input{width:80px;border:2px solid var(--blue);border-radius:6px;padding:6px 8px;font-size:20px;text-align:center;font-family:"Times New Roman",Times,serif;font-weight:bold}
.value-input:focus{outline:none;border-color:#000}
.arrow-buttons{display:flex;flex-direction:column;gap:2px}
.arrow-btn{width:30px;height:24px;border:2px solid var(--line);border-radius:4px;background:#fff;cursor:pointer;font-size:16px;font-weight:bold;display:flex;align-items:center;justify-content:center;user-select:none}
.arrow-btn:hover{background:#f0f0f0}
.arrow-btn:active{background:#e0e0e0}
.input-display{font-family:"Times New Roman",Times,serif;font-size:18px}

.dprow{display:flex;gap:4px}
.dprow button{flex:1;border:1px solid var(--line);border-radius:6px;background:#fff;font-size:12px;padding:6px 10px;cursor:pointer}
.dprow button.active{background:#000;color:#fff}

.btnrow{display:grid;grid-template-columns:repeat(5,1fr);gap:3px}
.btnrow button{border:1px solid var(--line);border-radius:5px;background:#fff;font-size:11px;padding:5px 3px;cursor:pointer}
.btnrow button.active{background:#000;color:#fff}

.reveal-btn-small{border:2px solid var(--line);border-radius:6px;background:#fff;font-size:16px;padding:8px 20px;cursor:pointer;margin-top:6px;font-weight:600;margin-right:6px}
.reveal-btn-small:hover{background:#f5f5f5}

.button-row{display:flex;gap:6px;margin-top:6px;flex-wrap:wrap}

.main{display:block}

.diagram svg{width:100%;height:auto;display:block}

.calc-section{display:flex;flex-direction:column}
.formula-header{text-align:center;margin-bottom:8px}
.formula-large{font-family:"Times New Roman",Times,serif;font-size:32px;font-weight:bold}
.formula-label{font-size:18px;color:var(--muted);margin-top:2px;font-weight:600}
.formula-meta{font-size:16px;color:var(--muted);margin-top:4px;font-family:Segoe UI,Arial,sans-serif}

.calc{border:1px solid var(--line);border-radius:8px;padding:12px}
.work-line{display:flex;justify-content:space-between;align-items:center;margin:8px 0;min-height:30px}
.math-content{font-family:"Times New Roman",Times,serif;font-size:22px;font-weight:bold;flex:1}
.logic-hint{font-family:Segoe UI,Arial,sans-serif;font-size:18px;color:var(--blue);font-style:italic;font-weight:600;margin-left:20px;white-space:nowrap}

.answer-container{margin:10px 0}
.answer-box{display:inline-block;border:2px solid #000;padding:8px 14px;font-family:"Times New Roman",Times,serif;font-size:22px;font-weight:bold}
.answer-box .label{font-style:italic}

.round-arrow{font-size:20px;font-weight:bold}
.round-up{color:#16a34a}
.round-down{color:#dc2626}

.frac{display:inline-flex;flex-direction:column;align-items:center;vertical-align:middle;margin:0 2px}
.frac-num{border-bottom:2px solid #000;padding:0 3px 1px;font-size:0.85em}
.frac-den{padding:1px 3px 0;font-size:0.85em}

.blurred{filter:blur(5px)}

.cuboid-info{font-size:12px;color:var(--muted);margin-top:4px;text-align:center}
.cuboid-info span{font-weight:bold}

.face-list{font-size:14px;margin-top:10px;padding-left:20px}
.face-list div{margin:2px 0}

.face-summary{margin-top:10px;padding:8px;background:#f9f9f9;border-radius:6px;font-size:14px}
.face-summary div{margin:4px 0}

@media(max-width:700px){
  .main{grid-template-columns:1fr}
  .formula-large{font-size:28px}
}
</style>
</head>

<body>
<div class="wrap">
<section class="card">

<div class="controls-row">
  <div class="block">
    <h3>Decimal places</h3>
    <div class="dprow" id="dpBtns"></div>
  </div>
  
  <div class="block">
    <h3>Units</h3>
    <div class="btnrow" id="unitBtns"></div>
  </div>
</div>

<div class="main">
  <div style="display:flex;gap:40px;margin-bottom:20px;">
    <div class="diagram-area">
      <div class="diagram">
        <svg viewBox="0 0 220 220" aria-label="Cuboid diagram">
          <defs>
            <linearGradient id="faceGrad1" x1="0%" y1="0%" x2="100%" y2="100%">
              <stop offset="0%" style="stop-color:#e5e7eb"/>
              <stop offset="100%" style="stop-color:#f9fafb"/>
            </linearGradient>
            <linearGradient id="faceGrad2" x1="0%" y1="0%" x2="100%" y2="100%">
              <stop offset="0%" style="stop-color:#d1d5db"/>
              <stop offset="100%" style="stop-color:#e5e7eb"/>
            </linearGradient>
            <linearGradient id="faceGrad3" x1="0%" y1="0%" x2="100%" y2="100%">
              <stop offset="0%" style="stop-color:#f3f4f6"/>
              <stop offset="100%" style="stop-color:#e5e7eb"/>
            </linearGradient>
            <marker id="arrow" viewBox="0 0 10 10" refX="8" refY="5" markerWidth="5" markerHeight="5" orient="auto">
              <path d="M 0 0 L 10 5 L 0 10 z" fill="#000"/>
            </marker>
          </defs>
          
          <!-- Back face (partially visible) -->
          <polygon points="40,60 40,150 120,120 120,30" fill="url(#faceGrad3)" stroke="#000" stroke-width="1.5"/>
          
          <!-- Bottom face -->
          <polygon points="40,150 120,120 180,160 100,190" fill="url(#faceGrad2)" stroke="#000" stroke-width="1.5"/>
          
          <!-- Front face -->
          <polygon points="100,30 180,60 180,160 100,130" fill="url(#faceGrad1)" stroke="#000" stroke-width="1.5"/>
          
          <!-- Left face -->
          <polygon points="40,60 100,30 100,130 40,150" fill="url(#faceGrad2)" stroke="#000" stroke-width="1.5"/>
          
          <!-- Dimension lines -->
          <!-- Width (W) -->
          <line x1="100" y1="30" x2="180" y2="60" stroke="#000" stroke-width="2" stroke-dasharray="4,3"/>
          <text x="140" y="50" font-size="14" font-family="Times New Roman" font-style="italic" fill="#000">W</text>
          
          <!-- Height (H) -->
          <line x1="180" y1="60" x2="180" y2="160" stroke="#000" stroke-width="2" marker-end="url(#arrow)"/>
          <text x="190" y="110" font-size="14" font-family="Times New Roman" font-style="italic" fill="#000">H</text>
          
          <!-- Depth (D) -->
          <line x1="180" y1="160" x2="100" y2="190" stroke="#000" stroke-width="2" marker-end="url(#arrow)"/>
          <text x="150" y="185" font-size="14" font-family="Times New Roman" font-style="italic" fill="#000">D</text>
          
          <!-- Labels for clarity -->
          <text x="70" y="100" font-size="12" font-family="Segoe UI" fill="#666">Front</text>
          <text x="55" y="50" font-size="12" font-family="Segoe UI" fill="#666">Back</text>
          <text x="170" y="140" font-size="12" font-family="Segoe UI" fill="#666">Right side</text>
        </svg>
      </div>
    </div>
    
    <div style="margin-top:20px;">
      <div class="block shape-block" style="margin-bottom:12px;">
        <div class="shape-title">Cuboid</div>
        <div class="shape-sub">3D rectangular solid</div>
        <div class="cuboid-info">A cuboid has <span>6 faces</span>, <span>12 edges</span>, and <span>8 vertices</span> (corners)</div>
      </div>
      
      <div style="display:grid;grid-template-columns:repeat(3,1fr);gap:8px;margin-bottom:12px;">
        <div class="block input-block">
          <h3>Width (W)</h3>
          <div class="input-container">
            <input type="number" class="value-input" id="widthInput" min="0" step="1" value="6">
            <div class="arrow-buttons">
              <button class="arrow-btn" id="widthUp">▲</button>
              <button class="arrow-btn" id="widthDown">▼</button>
            </div>
          </div>
          <div class="input-display" id="widthDisplay"><i>W</i> = 6</div>
        </div>
        
        <div class="block input-block">
          <h3>Height (H)</h3>
          <div class="input-container">
            <input type="number" class="value-input" id="heightInput" min="0" step="1" value="5">
            <div class="arrow-buttons">
              <button class="arrow-btn" id="heightUp">▲</button>
              <button class="arrow-btn" id="heightDown">▼</button>
            </div>
          </div>
          <div class="input-display" id="heightDisplay"><i>H</i> = 5</div>
        </div>
        
        <div class="block input-block">
          <h3>Depth (D)</h3>
          <div class="input-container">
            <input type="number" class="value-input" id="depthInput" min="0" step="1" value="8">
            <div class="arrow-buttons">
              <button class="arrow-btn" id="depthUp">▲</button>
              <button class="arrow-btn" id="depthDown">▼</button>
            </div>
          </div>
          <div class="input-display" id="depthDisplay"><i>D</i> = 8</div>
        </div>
      </div>
      
      <div class="face-summary">
        <div><strong>Faces of a cuboid:</strong></div>
        <div class="face-list">
          <div>• Front & Back: W × H</div>
          <div>• Top & Bottom: W × D</div>
          <div>• Left & Right: H × D</div>
        </div>
        <div style="margin-top:6px;"><strong>Surface Area = 2(W×H + W×D + H×D)</strong></div>
      </div>
    </div>
  </div>

  <div style="display:grid;grid-template-columns:1fr 1fr;gap:12px;margin-top:10px;">
    <div class="calc-section">
    <div class="formula-header">
      <div class="formula-label">Surface Area (SA)</div>
      <div class="formula-meta" id="aMetaWords"></div>
      <div class="formula-large"><i>A</i> = 2(<i>WH</i> + <i>WD</i> + <i>HD</i>)</div>
      <div class="formula-meta" id="aMeta"></div>
      <div class="button-row">
        <button class="reveal-btn-small" id="hideA">Hide</button>
        <button class="reveal-btn-small" id="showA" style="display:none;">Show</button>
        <button class="reveal-btn-small" id="stepA" style="display:none;">Step by Step</button>
        <button class="reveal-btn-small" id="nextA" style="display:none;">Next</button>
      </div>
    </div>
    <div class="calc" id="areaCalc">
      <div class="work-line" id="aLine0">
        <div class="math-content" id="aFormula"></div>
        <div class="logic-hint">Formula</div>
      </div>
      <div class="work-line" id="aLine1">
        <div class="math-content" id="aS1"></div>
        <div class="logic-hint">Front & Back: 2(W×H)</div>
      </div>
      <div class="work-line" id="aLine2">
        <div class="math-content" id="aS2"></div>
        <div class="logic-hint">Top & Bottom: 2(W×D)</div>
      </div>
      <div class="work-line" id="aLine3">
        <div class="math-content" id="aS3"></div>
        <div class="logic-hint">Left & Right: 2(H×D)</div>
      </div>
      <div class="work-line" id="aLine4">
        <div class="math-content" id="aS4"></div>
        <div class="logic-hint">Sum of all faces</div>
      </div>
      <div class="work-line" id="aLine5">
        <div class="answer-container" style="margin:0;">
          <div class="answer-box" id="aN"></div>
        </div>
        <div class="logic-hint" id="aRound"></div>
      </div>
    </div>
  </div>

  <div class="calc-section">
    <div class="formula-header">
      <div class="formula-label">Volume (V)</div>
      <div class="formula-meta" id="vMetaWords"></div>
      <div class="formula-large"><i>V</i> = <i>W</i> × <i>H</i> × <i>D</i></div>
      <div class="formula-meta" id="vMeta"></div>
      <div class="button-row">
        <button class="reveal-btn-small" id="hideV">Hide</button>
        <button class="reveal-btn-small" id="showV" style="display:none;">Show</button>
        <button class="reveal-btn-small" id="stepV" style="display:none;">Step by Step</button>
        <button class="reveal-btn-small" id="nextV" style="display:none;">Next</button>
      </div>
    </div>
    <div class="calc" id="volumeCalc">
      <div class="work-line" id="vLine0">
        <div class="math-content" id="vFormula"></div>
        <div class="logic-hint">Formula</div>
      </div>
      <div class="work-line" id="vLine1">
        <div class="math-content" id="vS1"></div>
        <div class="logic-hint">Substitution</div>
      </div>
      <div class="work-line" id="vLine2">
        <div class="math-content" id="vS2"></div>
        <div class="logic-hint">Multiply W × H</div>
      </div>
      <div class="work-line" id="vLine3">
        <div class="math-content" id="vS3"></div>
        <div class="logic-hint">Multiply by D</div>
      </div>
      <div class="work-line" id="vLine4">
        <div class="answer-container" style="margin:0;">
          <div class="answer-box" id="vN"></div>
        </div>
        <div class="logic-hint" id="vRound"></div>
      </div>
    </div>
  </div>
</div>

</section>
</div>

<script>
let W = 6;
let H = 5;
let D = 8;
let dp = 2;
let unit = null;

const units = [
  {symbol:'u', name:'unit'},
  {symbol:'mm', name:'millimetre'},
  {symbol:'cm', name:'centimetre'},
  {symbol:'m', name:'metre'},
  {symbol:'km', name:'kilometre'}
];

// Width controls
const widthInput = document.getElementById("widthInput");
const widthUp = document.getElementById("widthUp");
const widthDown = document.getElementById("widthDown");

widthUp.addEventListener("click", () => {
  W = W + 1;
  widthInput.value = W;
  update();
});

widthDown.addEventListener("click", () => {
  W = Math.max(0, W - 1);
  widthInput.value = W;
  update();
});

widthInput.addEventListener("input", () => {
  let val = parseFloat(widthInput.value);
  if (!isNaN(val) && val >= 0) { W = val; update(); }
});

widthInput.addEventListener("change", () => {
  let val = parseFloat(widthInput.value);
  if (isNaN(val) || val < 0) val = 6;
  W = val; widthInput.value = W; update();
});

// Height controls
const heightInput = document.getElementById("heightInput");
const heightUp = document.getElementById("heightUp");
const heightDown = document.getElementById("heightDown");

heightUp.addEventListener("click", () => {
  H = H + 1;
  heightInput.value = H;
  update();
});

heightDown.addEventListener("click", () => {
  H = Math.max(0, H - 1);
  heightInput.value = H;
  update();
});

heightInput.addEventListener("input", () => {
  let val = parseFloat(heightInput.value);
  if (!isNaN(val) && val >= 0) { H = val; update(); }
});

heightInput.addEventListener("change", () => {
  let val = parseFloat(heightInput.value);
  if (isNaN(val) || val < 0) val = 5;
  H = val; heightInput.value = H; update();
});

// Depth controls
const depthInput = document.getElementById("depthInput");
const depthUp = document.getElementById("depthUp");
const depthDown = document.getElementById("depthDown");

depthUp.addEventListener("click", () => {
  D = D + 1;
  depthInput.value = D;
  update();
});

depthDown.addEventListener("click", () => {
  D = Math.max(0, D - 1);
  depthInput.value = D;
  update();
});

depthInput.addEventListener("input", () => {
  let val = parseFloat(depthInput.value);
  if (!isNaN(val) && val >= 0) { D = val; update(); }
});

depthInput.addEventListener("change", () => {
  let val = parseFloat(depthInput.value);
  if (isNaN(val) || val < 0) val = 8;
  D = val; depthInput.value = D; update();
});

const dpWrap = document.getElementById("dpBtns");
[1,2,3,4].forEach(v => {
  const b = document.createElement("button");
  b.textContent = v;
  if (v === 2) b.classList.add("active");
  b.onclick = () => {
    document.querySelectorAll("#dpBtns button").forEach(x => x.classList.remove("active"));
    b.classList.add("active");
    dp = v;
    update();
  };
  dpWrap.appendChild(b);
});

const unitWrap = document.getElementById("unitBtns");
units.forEach((u, idx) => {
  const b = document.createElement("button");
  b.textContent = u.symbol;
  b.title = u.name;
  if (idx === 0) b.classList.add("active");
  b.onclick = () => {
    document.querySelectorAll("#unitBtns button").forEach(x => x.classList.remove("active"));
    b.classList.add("active");
    unit = u;
    update();
  };
  unitWrap.appendChild(b);
});

// Button handlers
let aStage = 0;
let vStage = 0;

document.getElementById("hideA").addEventListener("click", () => {
  document.getElementById("areaCalc").classList.add("blurred");
  document.getElementById("hideA").style.display = "none";
  document.getElementById("showA").style.display = "inline-block";
  document.getElementById("stepA").style.display = "inline-block";
});

document.getElementById("showA").addEventListener("click", () => {
  document.getElementById("areaCalc").classList.remove("blurred");
  showAllArea();
  document.getElementById("hideA").style.display = "inline-block";
  document.getElementById("showA").style.display = "none";
  document.getElementById("stepA").style.display = "none";
  document.getElementById("nextA").style.display = "none";
  aStage = 0;
});

document.getElementById("stepA").addEventListener("click", () => {
  aStage = 0;
  hideAllArea();
  document.getElementById("areaCalc").classList.remove("blurred");
  document.getElementById("showA").style.display = "none";
  document.getElementById("stepA").style.display = "none";
  document.getElementById("hideA").style.display = "inline-block";
  document.getElementById("nextA").style.display = "inline-block";
});

document.getElementById("nextA").addEventListener("click", () => {
  aStage++;
  if (aStage > 5) {
    showAllArea();
    document.getElementById("nextA").style.display = "none";
  } else {
    showAreaStage(aStage);
  }
});

document.getElementById("hideV").addEventListener("click", () => {
  document.getElementById("volumeCalc").classList.add("blurred");
  document.getElementById("hideV").style.display = "none";
  document.getElementById("showV").style.display = "inline-block";
  document.getElementById("stepV").style.display = "inline-block";
});

document.getElementById("showV").addEventListener("click", () => {
  document.getElementById("volumeCalc").classList.remove("blurred");
  showAllVolume();
  document.getElementById("hideV").style.display = "inline-block";
  document.getElementById("showV").style.display = "none";
  document.getElementById("stepV").style.display = "none";
  document.getElementById("nextV").style.display = "none";
  vStage = 0;
});

document.getElementById("stepV").addEventListener("click", () => {
  vStage = 0;
  hideAllVolume();
  document.getElementById("volumeCalc").classList.remove("blurred");
  document.getElementById("showV").style.display = "none";
  document.getElementById("stepV").style.display = "none";
  document.getElementById("hideV").style.display = "inline-block";
  document.getElementById("nextV").style.display = "inline-block";
});

document.getElementById("nextV").addEventListener("click", () => {
  vStage++;
  if (vStage > 4) {
    showAllVolume();
    document.getElementById("nextV").style.display = "none";
  } else {
    showVolumeStage(vStage);
  }
});

function hideAllArea() {
  for(let i=0; i<=5; i++) {
    const el = document.getElementById("aLine"+i);
    if(el) el.classList.add("blurred");
  }
}

function showAllArea() {
  for(let i=0; i<=5; i++) {
    const el = document.getElementById("aLine"+i);
    if(el) el.classList.remove("blurred");
  }
}

function showAreaStage(stage) {
  // Unblur lines up to current stage
  for(let i=0; i<=stage; i++) {
    const el = document.getElementById("aLine"+i);
    if(el) el.classList.remove("blurred");
  }
}

function hideAllVolume() {
  for(let i=0; i<=4; i++) {
    const el = document.getElementById("vLine"+i);
    if(el) el.classList.add("blurred");
  }
}

function showAllVolume() {
  for(let i=0; i<=4; i++) {
    const el = document.getElementById("vLine"+i);
    if(el) el.classList.remove("blurred");
  }
}

function showVolumeStage(stage) {
  for(let i=0; i<=stage; i++) {
    const el = document.getElementById("vLine"+i);
    if(el) el.classList.remove("blurred");
  }
}

function fmt(n, places) {
  const nearInt = Math.abs(n - Math.round(n)) < 1e-9;
  if (nearInt) return String(Math.round(n));
  const fixed = Number(n).toFixed(places);
  return fixed.replace(/\.?0+$/, '');
}

function fmtInput(n) {
  if (Number.isInteger(n)) return String(n);
  return n % 1 === 0 ? String(n) : n.toFixed(2).replace(/\.?0+$/, '');
}

function getTruncatedWithRounding(n, places) {
  const truncStr = n.toFixed(places + 1);
  const nextDigit = parseInt(truncStr[truncStr.length - 1], 10);
  const roundUp = nextDigit >= 5;
  const parts = truncStr.split('.');
  const intPart = parts[0];
  const decPart = parts[1];
  const beforeLast = decPart.substring(0, decPart.length - 1);
  const lastDigit = decPart[decPart.length - 1];
  const arrow = roundUp ? '<span class="round-arrow round-up">↑</span>' : '<span class="round-arrow round-down">↓</span>';
  return `= ${intPart}.${beforeLast}${arrow}${lastDigit}…`;
}

function getRoundDir(n, places) {
  const truncStr = n.toFixed(places + 1);
  const nextDigit = parseInt(truncStr[truncStr.length - 1], 10);
  return nextDigit >= 5 ? "Round up" : "Round down";
}

function update() {
  const unitStr = unit && unit.symbol !== 'u' ? ' ' + unit.symbol : '';
  const unitStr2 = unit && unit.symbol !== 'u' ? ' ' + unit.symbol + '²' : '';
  const unitStr3 = unit && unit.symbol !== 'u' ? ' ' + unit.symbol + '³' : '';
  
  const unitDisplay = unit ? unit.symbol : 'u';
  const unitName = unit && unit.name ? unit.name : 'unit';
  const unitNamePlural = unitName + 's';

  const wDisp = fmtInput(W);
  const hDisp = fmtInput(H);
  const dDisp = fmtInput(D);
  
  document.getElementById("widthDisplay").innerHTML = `<i>W</i> = ${wDisp} ${unitDisplay}`;
  document.getElementById("heightDisplay").innerHTML = `<i>H</i> = ${hDisp} ${unitDisplay}`;
  document.getElementById("depthDisplay").innerHTML = `<i>D</i> = ${dDisp} ${unitDisplay}`;
  
  document.getElementById("aMetaWords").textContent = `in ${unitNamePlural} squared to ${dp} decimal places`;
  document.getElementById("aMeta").textContent = `${unitDisplay}²    ${dp} dp`;
  
  document.getElementById("vMetaWords").textContent = `in ${unitNamePlural} cubed to ${dp} decimal places`;
  document.getElementById("vMeta").textContent = `${unitDisplay}³    ${dp} dp`;

  // Surface Area calculations
  const frontBack = W * H;
  const topBottom = W * D;
  const leftRight = H * D;
  const surfaceArea = 2 * (frontBack + topBottom + leftRight);
  
  // Volume calculations
  const volume = W * H * D;
  const whProduct = W * H;
  
  // Update Surface Area display
  document.getElementById("aFormula").innerHTML = `<i>A</i> = 2(<i>W</i>×<i>H</i> + <i>W</i>×<i>D</i> + <i>H</i>×<i>D</i>)`;
  document.getElementById("aS1").innerHTML = `= 2(${wDisp}×${hDisp} + <i>W</i>×<i>D</i> + <i>H</i>×<i>D</i>) = 2(${fmt(frontBack, 2)} + <i>W</i>×<i>D</i> + <i>H</i>×<i>D</i>)`;
  document.getElementById("aS2").innerHTML = `= 2(${fmt(frontBack, 2)} + ${wDisp}×${dDisp} + <i>H</i>×<i>D</i>) = 2(${fmt(frontBack, 2)} + ${fmt(topBottom, 2)} + <i>H</i>×<i>D</i>)`;
  document.getElementById("aS3").innerHTML = `= 2(${fmt(frontBack, 2)} + ${fmt(topBottom, 2)} + ${hDisp}×${dDisp}) = 2(${fmt(frontBack, 2)} + ${fmt(topBottom, 2)} + ${fmt(leftRight, 2)})`;
  document.getElementById("aS4").innerHTML = `= 2(${fmt(frontBack + topBottom + leftRight, 2)})`;
  document.getElementById("aN").innerHTML = `<span class="label">A = </span>${fmt(surfaceArea, dp)}${unitStr2} (${dp} dp)`;
  document.getElementById("aRound").textContent = "";
  
  // Update Volume display
  document.getElementById("vFormula").innerHTML = `<i>V</i> = <i>W</i> × <i>H</i> × <i>D</i>`;
  document.getElementById("vS1").innerHTML = `= ${wDisp} × ${hDisp} × ${dDisp}`;
  document.getElementById("vS2").innerHTML = `= ${fmt(whProduct, 2)} × ${dDisp}`;
  document.getElementById("vS3").innerHTML = `= ${fmt(whProduct, 2)} × ${dDisp}`;
  document.getElementById("vN").innerHTML = `<span class="label">V = </span>${fmt(volume, dp)}${unitStr3} (${dp} dp)`;
  document.getElementById("vRound").textContent = "";
}

unit = units[0];
update();
</script>
</body>
</html>